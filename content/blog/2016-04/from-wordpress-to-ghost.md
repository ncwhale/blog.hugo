---
title: "从 WordPress 到 Ghost 喵~"
date: 2016-04-27T17:18:47+08:00
lastmod: 2016-04-27T17:18:47+08:00
draft: false
isCJKLanguage: true
---

## 起因

既有的博客从 2007 年启用开始，就一直在一个美国空间中用 WordPress 跑着，期间做了一些很无聊的事情比如收集自己的 Twitter 作为 Blog 内容等等，导致内容一度爆炸喵……

随着空间用量耗尽（才300MB），终于下决心想要给博客搬个家，于是注册了 AWS 并开了台 EC2 来跑 Ghost 喵~

但是既有的 16MB WP博文导入到 Ghost 就是各种蛋碎事情喵……首先 Ghost 官方的导出插件完全就是个摆设，尝试各种姿势都无法正确导出；其次使用 WP 自带的导出工具导出的 XML 文件存在一系列细节偏差导致无法正确解析……

不过最终还是将数据全部导入了喵~修改了一系列设置并修订了无数行数据喵……还写了好几个脚本喵……

## 数据迁移流程

1. 使用 WP 自带的导出工具，导出仅含博文的 XML 文件；
2. 使用 [这个小工具]() 尝试将该XML文件解析成 Ghost.json 文件
> * 如果其中提示你某行XML文件有错，多半是博文中的HTML没对齐，先删除该行试试看喵；
> * 经过无数次修订才终于正确将整个文章导出了喵……

3. 很重要一点，导入 Ghost.json 前先需要将图片地址修订到新地址喵~否则到处都是 XXX 图片喵……
3. 如果使用了 Nginx 作为 Ghost 前端， 记得导入到 Ghost 前先看看文件尺寸，修改 Nginx 最大上传尺寸，否则可能直接 `HTTP 443` 错误喵~

## 图片迁移

由于域名没在国内备案如果使用国内 七牛、又拍云 就会蛋碎喵……或者干脆还是用 OneDrive 或者 S3 好了喵？求教喵……
